// React
import React, { useEffect, useState } from 'react';

// Navigation
import { useSearchParams } from 'react-router-dom';

// External imports
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import {
  faSignsPost,
  faTruckContainer,
  faCars
} from '@fortawesome/pro-solid-svg-icons';
import { useMediaQuery } from "@uidotdev/usehooks";
import FriendlyTime from "../../shared/FriendlyTime";
import OverlayTrigger from 'react-bootstrap/OverlayTrigger';
import Tooltip from 'react-bootstrap/Tooltip';

// Styling
import './BorderCrossingPanel.scss';

export default function BorderCrossingPanel(props) {
  // Misc
  const smallScreen = useMediaQuery('only screen and (max-width: 575px)');

  const { borderCrossing, showRouteObjs } = props;

  const [borderLanes, setBorderLanes] = useState({});
  const [searchParams, setSearchParams] = useSearchParams();

  useEffect(() => {
    const res = {};

    for (const l of borderCrossing.lanes) {
      if (!res[l.lane_type]) {
        res[l.lane_type] = {};
      }

      res[l.lane_type][l.lane_direction] = l.delay_minutes;
    }

    setBorderLanes(res);

    searchParams.set('type', 'borderCrossing');
    searchParams.set('id', borderCrossing.id);
    searchParams.delete("display_category");
    setSearchParams(searchParams, { replace: true });
  }, [borderCrossing?.id, borderCrossing?.lanes]);

  /* Rendering */
  // Sub components
  const getLaneIcon = (laneType) => {
    switch (laneType) {
      case 'Trucks':
        return <FontAwesomeIcon icon={faTruckContainer}/>;

      case 'FAST':
        return (
          <svg xmlns="http://www.w3.org/2000/svg" width="60" height="14" fill="none" viewBox="0 0 60 14">
            <path fill="#fff" d="M14.17 7.86h1.71l-.86 2.93h-1.84zm.66-3.43h2.62l-.97 3.04h-2.62zM14.67 1l-.97 3.04h5.14L19.82 1z"/>
            <path fill="#2d2d2d" d="m11.4 11.37-.7 1.7H11l.3-.7h.63l.12-.29h-.64l.18-.42h.75l.12-.3z"/>
            <mask id="a" width="60" height="14" x="0" y="0" maskUnits="userSpaceOnUse">
              <path fill="#fff" d="M.92 13.08h58.16V.92H.92z"/>
            </mask>
            <g mask="url(#a)">
              <path fill="#2d2d2d" d="M13.87 12.16q-.02-.06-.12-.07-.17 0-.29.23l-.31.75h-.3l.52-1.25h.29l-.05.12a.6.6 0 0 1 .35-.13q.17 0 .23.12zm1.87.04q0-.12-.14-.13-.16 0-.26.13l-.08.13h.45zm-.57.34q-.1.26.15.28.16 0 .31-.12l.1.19a1 1 0 0 1-.53.2c-.28 0-.49-.14-.28-.64.17-.41.48-.64.78-.64.33 0 .41.25.27.6l-.06.13zm2.72-.34q0-.12-.14-.13-.16 0-.26.13l-.08.13h.45zm-.57.34q-.1.26.15.28c.13 0 .2-.04.31-.12l.1.19a1 1 0 0 1-.53.2c-.27 0-.49-.14-.28-.64.17-.41.48-.64.78-.64.33 0 .41.25.27.6l-.06.13zm4.2-.67-.46.62h.4zm-.12 1.2.03-.3h-.58l-.22.3h-.33l1.3-1.7h.25l-.12 1.7zm2.1 0 .31-.75c.07-.17 0-.23-.1-.23q-.17-.01-.29.23l-.31.75h-.3l.52-1.25h.29l-.05.12a.6.6 0 0 1 .35-.13q.18 0 .23.1.07.16-.02.36l-.34.8zm2.37-.98c-.18 0-.26.15-.35.36s-.12.35.05.35c.18 0 .27-.15.35-.35.09-.2.13-.36-.05-.36m-.2.98.05-.12a.5.5 0 0 1-.35.13q-.17 0-.24-.1c-.07-.13.02-.35.1-.53q.1-.32.34-.53.16-.1.33-.11t.24.12l.23-.56h.3l-.71 1.7zm3.42.01q-.35.02-.5-.22l.3-.22q.1.16.33.15.29 0 .37-.21.04-.09.01-.15-.01-.04-.11-.06l-.19-.02q-.18-.04-.25-.15-.07-.12.02-.33c.13-.3.43-.52.78-.52q.32 0 .44.2l-.29.2c-.06-.1-.17-.1-.28-.1q-.26.02-.34.2-.03.08 0 .13t.12.07l.18.03q.2.03.25.13.07.12-.02.36a.9.9 0 0 1-.82.51m2.8-.88q0-.12-.14-.13-.16 0-.25.13l-.08.13h.45zm-.56.34q-.1.26.14.28.17 0 .32-.12l.1.19a1 1 0 0 1-.53.2c-.28 0-.49-.14-.28-.64.17-.41.47-.64.78-.64.33 0 .41.25.27.6l-.06.13zm2.16.54c-.23 0-.47-.13-.26-.63s.56-.64.8-.64q.23 0 .32.17l-.3.2q-.03-.1-.14-.1a.3.3 0 0 0-.2.1 1 1 0 0 0-.18.27q-.09.19-.05.27t.13.08q.1.01.23-.1l.12.21a.7.7 0 0 1-.47.17m2.22 0 .05-.12a.6.6 0 0 1-.35.12q-.18 0-.24-.1-.07-.15.03-.36l.33-.8h.3l-.32.76c-.07.17.01.22.1.22s.23-.05.3-.22l.3-.76h.3L36 13.07zm2.54-.92q-.02-.06-.12-.07-.17 0-.29.23l-.31.75h-.3l.52-1.25h.3l-.06.12a.6.6 0 0 1 .35-.13q.17 0 .23.12zm1.87.04q0-.12-.14-.13-.16 0-.25.13l-.09.13h.45zm-.57.34q-.1.26.15.28c.13 0 .2-.04.31-.12l.1.19a1 1 0 0 1-.53.2c-.27 0-.49-.14-.28-.64.17-.41.48-.64.78-.64.33 0 .41.25.27.6l-.06.13zm4.36-.88-.58 1.41H43l.59-1.4h-.42l.12-.3h1.16l-.13.3zm1.91.5q-.02-.06-.12-.07c-.1 0-.23.07-.3.23l-.3.75h-.3l.52-1.25h.29l-.05.12a.6.6 0 0 1 .35-.13q.17 0 .23.12zm1.72.38h-.24q-.15 0-.22.15-.05.13.1.14.13.02.22-.06a.3.3 0 0 0 .1-.16zm-.22.53.05-.1a.5.5 0 0 1-.34.11q-.2 0-.26-.1-.04-.12.02-.29c.08-.2.28-.36.56-.36h.27l.03-.06q.1-.2-.14-.2a.4.4 0 0 0-.27.1l-.1-.19c.17-.13.3-.17.5-.17q.48 0 .31.44l-.34.82zm2.37-.98c-.18 0-.26.15-.35.36s-.12.35.05.35c.18 0 .27-.15.35-.35.09-.2.13-.36-.05-.36m-.2.98.05-.12a.5.5 0 0 1-.35.13q-.17 0-.24-.1c-.07-.13.02-.35.1-.53q.1-.32.34-.53.14-.1.33-.11.18 0 .24.12l.23-.56h.3l-.71 1.7zm2.54-.87q0-.12-.14-.13-.15 0-.25.13l-.08.13H52zm-.56.34q-.1.26.14.28c.13 0 .2-.04.32-.12l.1.19a1 1 0 0 1-.53.2c-.28 0-.5-.14-.28-.64.17-.41.47-.64.78-.64.33 0 .4.25.26.6l-.05.13zM14.97 1H1.27l13.3.37z"/>
              <path fill="#2d2d2d" d="M14.6 1.24h5.14l.08-.25h-5.15zm-.16.47h5.15l.08-.25h-5.15zm-.15.47h5.15l.08-.25h-5.15zm-.15.46h5.15l.08-.24h-5.15zm-.15.47h5.15l.08-.25H2.96zm-.15.47H19l.08-.25h-5.15zm-.15.47h5.15l.08-.25h-5.15z"/>
              <path fill="#2d2d2d" d="M16.12 2.64h-1.98L14.67 1h1.98z"/>
              <path fill="#fff" d="m14.76 1.23-.07.04.04-.07-.04-.04h.07l.04-.07v.07h.06l-.06.04v.07zm-.1.32-.07.04.04-.07-.04-.04h.06l.05-.07v.07h.06l-.06.04v.07zm-.11.32-.06.04.03-.06-.03-.05h.06l.05-.07v.07h.06l-.06.05v.06zm-.1.33-.07.03.04-.06-.03-.05h.06l.04-.07v.07h.07l-.07.05v.06zm-.1.32-.07.03.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm.74-1.29-.07.04.04-.07-.04-.04h.07l.04-.07v.07h.07l-.07.04v.07zm-.1.32-.07.04.04-.07-.04-.04H15l.04-.07v.07h.06l-.06.04v.07zm-.1.32-.07.04.03-.06-.03-.05h.06l.05-.07v.07h.06l-.06.05v.06zm-.11.33-.07.03.04-.06-.03-.05h.06l.04-.07v.07h.07l-.06.05-.01.06zm-.1.32-.07.03.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm.74-1.29-.07.04.04-.07-.03-.04h.06l.04-.07v.07h.07l-.07.04v.07zm-.1.32-.07.04.04-.07-.04-.04h.07l.04-.07v.07h.06l-.06.04v.07zm-.1.32-.07.04.04-.06-.04-.05h.06l.05-.07v.07h.06l-.06.05v.06zm-.11.33-.06.03.03-.06-.03-.05h.06l.05-.07v.07h.06l-.06.05v.06zm-.1.32-.07.03.04-.06-.03-.05H15l.04-.07v.07h.07l-.07.05v.06zm.74-1.29-.07.04.04-.07-.03-.04h.06l.04-.07v.07h.07l-.06.04-.01.07zm-.1.32-.07.04.04-.07-.04-.04h.07l.04-.07v.07h.06l-.06.04v.07zm-.1.32-.07.04.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm-.1.33-.07.03.03-.06-.03-.05h.06l.05-.07v.07h.06l-.06.05v.06zm-.11.32-.07.03.04-.06-.03-.05h.06l.04-.07v.07h.07l-.07.05v.06zm.74-1.29-.06.04.03-.07-.03-.04h.06l.05-.07v.07h.06l-.06.04v.07zm-.1.32-.07.04.04-.07-.03-.04h.06l.04-.07v.07h.07l-.07.04v.07zm-.1.32-.07.04.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm-.1.33-.07.03.03-.06-.03-.05h.06l.05-.07v.07h.06l-.06.05v.06zm-.11.32-.07.03.04-.06-.03-.05h.06l.04-.07v.07h.07l-.06.05-.01.06zm.74-1.29-.06.04.03-.07-.03-.04h.06l.05-.07v.07h.06l-.06.04v.07zm-.1.32-.07.04.04-.07-.03-.04h.06l.04-.07v.07h.07l-.07.04v.07zm-.1.32-.07.04.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm-.1.33-.07.03.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm-.11.32-.06.03.03-.06-.03-.05H16l.05-.07v.07h.06l-.06.05v.06zm-1.13-1.13-.06.04.03-.07-.03-.04h.06l.04-.07v.07h.07l-.06.04v.07zm-.1.32-.07.04.04-.07-.04-.04h.07l.04-.07v.07h.07l-.07.04v.07zm-.1.33-.07.03.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm-.1.32-.07.03.03-.06-.03-.05h.06l.05-.07v.07h.06l-.06.05v.06zm.63-.97-.06.04.03-.07-.03-.04h.06l.05-.07v.07h.06l-.06.04v.07zm-.1.32-.07.04.04-.07-.03-.04h.06l.04-.07v.07h.07l-.07.04v.07zm-.1.33-.07.03.04-.06-.04-.05H15l.04-.07v.07h.06l-.06.05v.06zm-.1.32-.07.03.04-.06-.04-.05h.06l.05-.07v.07H15l-.06.05v.06zm.63-.97-.06.04.03-.07-.03-.04h.06l.05-.07v.07h.06l-.06.04v.07zm-.1.32-.07.04.04-.07-.03-.04h.06l.04-.07v.07h.07l-.06.04-.01.07zm-.1.33-.07.03.04-.06-.04-.05h.07l.04-.07v.07h.07l-.07.05v.06zm-.1.32-.07.03.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm.63-.97-.06.04.04-.07-.04-.04h.06l.05-.07v.07h.06l-.06.04v.07zm-.1.32-.06.04.03-.07-.03-.04h.06l.05-.07v.07h.06l-.06.04v.07zm-.1.33-.07.03.04-.06-.03-.05h.06l.04-.07v.07h.07l-.07.05v.06zm-.1.32-.07.03.04-.06-.04-.05h.07l.04-.07v.07h.06l-.06.05v.06zm.63-.97-.06.04.04-.07-.04-.04h.07l.04-.07v.07h.06l-.06.04v.07zm-.1.32-.06.04.03-.07-.03-.04h.06l.05-.07v.07h.06l-.06.04v.07zm-.1.33-.07.03.04-.06-.03-.05h.06l.04-.07v.07h.07l-.06.05-.01.06zm-.1.32-.07.03.04-.06-.04-.05h.07l.04-.07v.07H16l-.06.05v.06z"/>
              <path fill="#2d2d2d" d="m16.45 6 .1-.1-.05-.02.27-.3-.36.04.03-.1-.1.05v-.13l-.35.25.3-.58-.17.08.03-.1-.1.07-.02-.4-.28.4-.05-.08-.04.11-.1-.08-.08.58-.2-.25h-.77l.32-1H1.11l12.34.33-.21.67H1.58l13.25.37.02.07-.07.02.03.1-.15.12.42.21-.2.31.17-.02-.02.11.36-.12-.17.56h.08l.19-.56.28.12.05-.1.15.01v-.3l.56-.22zm1-1.57-.97 3.05h1.27l.97-3.05z"/>
              <path fill="#2d2d2d" d="M12.59 7.48h1.27l.5-1.57-1.26-.03zM22.87 3.14l-.55 1.72h4.67l-.7 2.15h-4.67l-1.22 3.78h-3.1l3.17-9.8h8.56l-.69 2.15zm9.56 1.57-1.98 2.61h2.2zm.47 6.08-.11-1.46H28.9l-1.09 1.46h-3.24l7.74-9.8h2.4l1.42 9.8zm8.08.08c-1.93 0-3.42-.27-4.36-1.3l2.48-1.53c.49.5 1.58.69 2.59.69 1.22 0 1.9-.32 2.09-.88q.12-.36-.06-.58-.17-.2-.75-.26l-1.47-.17q-1.61-.18-2.25-.86-.64-.7-.23-1.97c.57-1.79 2.73-3.1 5.6-3.1 1.8 0 3.06.34 3.87 1.17L46.05 3.6c-.6-.62-1.65-.58-2.2-.58-1.08 0-1.68.48-1.82.9-.04.13-.04.3.1.46.12.12.35.25.78.29l1.47.16q1.64.2 2.21.82c.51.5.54 1.23.25 2.14-.64 2-3.2 3.08-5.86 3.08m14.31-7.73-2.47 7.65h-3.1l2.47-7.65h-3.1L49.8 1h9.3l-.7 2.14zM12.15 8.9l-9.52-.25 9.6.01.15-.46L.92 7.86h13.24l-.98 2.93h-1.65zM14.66 9.7q.02 0 .02.02l-.07.06h-.05l-.06-.04h-.01l-.04.03-.03.02h-.01l-.03-.02-.02-.04v-.01l-.03.01.01-.03-.04.03h-.03l.02-.02V9.7l-.04.02h-.02V9.7l.01-.01v-.01h-.07.01l.03-.02h.01v-.02h.05v-.01h.03l.02.02v-.02h.04l.01.02h.11l.01-.01h.1l.02.01z"/>
              <path fill="#2d2d2d" d="m14.71 9.61.08-.02-.04.02q-.03 0-.05.02l.1-.03q.01 0 0 0l-.1.05.1-.04-.1.05h-.02v.02l.04-.01.1-.05h.02l-.14.07h.02l.11-.06q.01 0 0 0l-.1.06c-.04.02 0 0 0 .01l.1-.04-.14.06-.03-.03.01-.05zM14.42 9.77v-.01l.02-.03.05-.03h.03l-.01.01-.05.03zM14.6 9.77l-.02-.01-.07-.03.01-.02h.02v.01l.03.01.04.03z"/>
              <path fill="#fff" d="M14.4 9.74h-.01v-.02l.03-.01h.02v-.02h.04zm.22 0h-.04l-.04-.03.01-.02h.02v.01l.07.04z"/>
              <path fill="#2d2d2d" d="M14.38 9.72V9.7l.01-.02h.02l.04-.02h.03l-.05.02-.03.02zm-.08 0V9.7l.01-.01v-.01h-.02l-.04.01.01-.02h-.06l.03-.01v-.02l.03.01h.03v-.01h.02v.01l.03.01v-.02h.01l.01.02h.04v.01h-.01l-.02.03h-.02l.01-.02h-.02l-.03.02zM14.65 9.73l-.06-.02V9.7l-.03-.01v-.02l.05.01.03.02.02.01zM14.48 9.69l.01-.04h.01z"/>
              <path fill="#fff" d="m14.5 9.7.02-.05h.02l-.01.04z"/>
              <path fill="#2d2d2d" d="m14.54 9.7.01-.05h.02l-.01.03zM14.16 9.67v-.03h.03v.01h-.01zm.04-.03-.02-.01h-.05v-.01h-.05V9.6h.03v-.01l-.04-.01-.02-.02h.04v-.01l-.03-.02h.03V9.5l.02.01h.01V9.5h.02v.05l.02-.02.01.01v.04h.01v.02l.02.01v.02l.01.01m.68 0-.02-.02h.04z"/>
              <path fill="#2d2d2d" d="M14.17 9.62h-.07V9.6h.02v-.02h-.05v-.01h.04v-.03h-.02v-.02h.02l.01.01v-.01h.01v.05h.01l.01-.02h.01v.04h.02v.03zM14.22 9.62l-.01-.01V9.6h.03zm.07-.01h-.01v-.02l.03-.01h.03l.02-.02-.01-.02h-.12v-.02h.04l.01-.02-.04-.03h-.03l-.03-.01v-.03h.03l.02.01v.01q.06 0 .1.03h.03v-.01l-.01-.02v-.02h.04v.06l.03.01h.01l.03-.02h.11l.03-.06h-.02l-.01.01-.02.02h-.06l-.04-.01h-.02l-.02-.02V9.4l-.09.02h-.02l-.03-.02h-.03.01l.01-.03h-.07l-.02-.02h-.02l.01-.02-.01-.01-.02-.01.02-.01.02-.02.02-.02.03-.01.01-.02.01.02h.02l.01.03h.02l-.01.02v.03l.02-.01V9.3l.04.02.03-.02h.02v.03l.03.01v.02h.02v-.02h.02l.02-.01V9.3h.02v.01l.04.01h.02v.01l.01.02h.02v-.02l.05-.02h.05v-.01h-.01l-.02-.04v-.01l-.02-.02v-.02h-.01l-.02.04h-.01v-.02l-.07.03h-.01v-.02l-.09-.02h-.06v.02h-.01v-.01l-.02.01h-.06l-.01-.06v-.02l-.04-.02V9.1l.02-.03v-.02l-.06-.02V9l.02-.01h.05V9l.02.01.01.02v.04l-.03.05.04.03v.01l.01.04h.03V9.2h.02l.02-.02.02-.01h.04v-.01h-.09l-.03-.02v-.05l.01-.05.05-.05.07-.04.02-.01V8.9h-.02.01-.1l-.01-.02v-.07l.05-.04.03-.01v.01l-.02.02-.02.03h.02l.03-.01h-.01l-.04.03v.01h.07v-.04l.04-.02.02-.02.02-.03v.01l.03-.03v.02h.02v-.03h.01v.03-.01h.01l.02-.03.01.02h.02l.05.02h.01l.02.02.01.01v.03h.01l.01-.04v-.02l-.03-.01-.05-.02v-.04h.01l.05-.01.01-.02h.14l.09.03.07.03v.01l.05.04.05.09.03.1-.01.1q-.03.11-.08.21l.03-.2-.01-.02q-.03.1-.05.2v-.2h-.01v.01q-.01.07-.01.12l-.02.05v-.1l-.01-.07-.02-.01v.12c-.02 0-.02-.06-.02-.07l-.01-.02-.03-.02v.04l.01.04c-.03 0-.02-.06-.04-.06l-.01-.01h-.03q-.01-.03-.02-.03h-.03v.09h.02l.11.09.08.04v.02h-.02l-.05.02-.06.02h-.07l-.01-.02-.04-.03v.06l.04.01v.01l-.01.02-.01.04h.03l.03-.02.01-.03h.02q.03-.01.03-.02l.02.01v.02h.01l.03-.03.02.01v.02h-.02l-.02.02v.03h.02l-.04.01-.02.01v.02h-.12l-.05-.01v.01h-.02l-.08.01-.01.03h.02v-.01h.03l.01.02h.03l.1-.02v-.01h.06v.02l-.05.01h-.02l-.07.02q0 .02.02.02l.02-.01h.01v.03h-.05l-.04.01-.04.01v.02h-.38"/>
              <path fill="#2d2d2d" d="M14.64 9.6v-.01h-.04l-.02-.07h.05V9.5h.03v-.02h.03v.02h-.01l-.01.05v.03l-.02.02zM14.85 9.6l.05-.03.02-.06.07-.05.02-.01-.08.07.1-.06v.01l-.12.08q-.02 0 0 0h.03q0-.02.04-.03l.05-.05.01.01-.1.07.11-.06h.01l-.12.08.13-.07-.06.05.04-.03q.02 0 0 0-.02.03-.06.04l-.05.01h-.04zM14.43 9.6v-.05l.02-.04v-.02h.09v.02h.01v.07h-.02v-.06l-.02-.02v.08h-.06v.02zm-.09-.01v-.01l.03-.01v-.02l-.02-.02h-.08v-.01l.02-.01q-.02-.03-.05-.04v-.01l.1.03h.02l.01-.03.03.04h.04l-.01.05v.03h-.09M14.57 9.59l-.02-.08V9.5h.02v.03l.02.06zM14.85 9.58v-.03h.02z"/>
              <path fill="#2d2d2d" d="M14.68 9.56zl.01-.02V9.5l.08-.01.04-.01-.06.03-.01.01v.01h.03l-.01.01-.06.01zM14.01 9.52l.01-.02h.03v.01h-.04m.06-.01-.02-.01v-.02l-.07-.02v-.01H14l.01-.01-.04-.01V9.4h.02l-.03-.02v-.01h.02v-.02h.04l.01-.01h.01v.03l.02-.02h.02l-.02.06.03-.01-.03.07.02.02h.01zM14.57 9.5l.03-.07.01-.02h.01V9.4h.02v-.01h.03l.02-.03.03-.02h.01v.01h.02l.04.02v.03l-.06.03-.04.01-.04.02-.03.04z"/>
              <path fill="#2d2d2d" d="M14.07 9.48v-.02h.03l-.02.01zM14.03 9.46h-.02zv-.02l-.05-.01v-.01h.04v-.01H14l-.03-.02h.02v-.02h.03v.03h.01l.02-.02q0 .02-.02.05h.03l-.02.02v.01M15.11 9.46h-.01v-.01h.03zM15.08 9.45l.03-.03.01-.04.06-.08h.01l-.07.1h.01l.03-.03.06-.1-.02.05-.03.06-.04.03-.02.01zm-.25-.01-.07-.01.02-.01h.05l.02-.02.03-.04.04-.01h.02v.03l.01.01v.02l-.09.03zM15.07 9.43v-.01h-.02V9.4h.02zM14.49 9.43l-.06-.01v-.01l.02-.06h.1l.02.01h.08-.01l-.01.01-.02.04-.05.02h-.07M14.85 9.42h.02zm-.15 0V9.4h.03-.03m-.22 0V9.4h.03z"/>
              <path fill="#2d2d2d" d="m15.14 9.41.03-.02.06-.08-.06.08h.01l.07-.08-.05.08h-.02l-.02.02zm-.82 0-.05-.03.01-.03.03-.03h.03v.03h.04v-.01h.02l.03.03v.01l-.03.01-.05.01z"/>
              <path fill="#2d2d2d" d="M14.58 9.4h-.02l.02-.01m-.23 0-.02-.01h.03zm.18 0v-.01h.01zm.27-.01v-.04h.03v.02l-.02.01m.08 0v-.01h.01zM15.1 9.4v-.03l.01-.04.04-.04-.04.06-.01.02h.01l.01-.02h.01zM14.62 9.48h-.01v-.02h.01zm.27-.06V9.4h.03zm.02-.03.02-.02zm-.26.04zh.03zm.06-.04.03-.01zm-.03 0 .02-.01zM14.65 9.38v-.02l.04-.01.02-.02v-.01h-.02V9.3h.04l.01-.01h.02v-.01h.01v.02l.03.02v.01h-.03l-.02-.02h-.03l-.04.04-.02.02zM14.39 9.38h.01zm.09 0h.02zm.05-.01-.01-.02zM14.95 9.37v-.01l.02-.01H15l-.03.02zM14.25 9.36h-.05l-.02-.02-.02-.03V9.3l.03-.03.03-.01h.02l.02.02v.02l.01.03v.02zM14.3 9.36h.02z"/>
              <path fill="#2d2d2d" d="M14.62 9.35v-.02h.08l-.01.01-.03.01zM14.35 9.35v-.03h.04l-.03.03zM14.24 9.34h-.01zm-.24 0-.01-.04-.02-.01v-.02l-.03-.02v-.01h.03v-.02h-.01l.01-.02H14l.02-.03h.04v.01l-.02.02h.03-.01l-.03.03H14h.03v.02l-.03.01-.01.04zM13.97 9.33h-.03l.02-.03zM14.2 9.33V9.3h.01zM15.12 9.35l.05-.06z"/>
              <path fill="#2d2d2d" d="m14.01 9.32.01-.03h.03v.01h-.02zM14.24 9.31v-.02zm.8.02.01-.02h.01zM14.7 9.3h-.02l-.01-.03v-.06h-.01V9.2h-.03.02v.02l.02.02v.01h-.02l-.03-.04-.01-.01.02.03-.02.03-.01-.01v-.01l.01-.02v.02l-.01-.03-.01.04-.06.02v-.02l.05-.02h-.02l-.04.03-.04-.01h.04l-.04-.01h-.02l.04-.03.01-.03h.03-.01v-.01l.02-.02h-.02V9.1l.03.04v.07h.02v-.03.02h-.01l-.01-.04v-.02l.04.03h.01v-.02h-.03l-.04-.08v-.05l.02-.05-.02.03-.01.02v.05h-.01V9l.02-.05.01-.01v-.02q.01 0 .02-.02V8.9h.03l.01-.02.02-.03-.03.04h-.01v-.03h.01l.01-.02h-.01l-.01.02-.03-.02h-.09v-.02h.04q0-.03.02-.04l.02-.02.01-.01h.02l-.03.03h.02l.02-.03h.02l.02-.02h.01l.02.02.05.01h-.06l.04.01h.04l.03.05v.02h-.02.03v-.1l-.04-.02h-.03v-.04h.05v.01l.06.04h.01v.13l-.05.04h.01l.05-.04v-.14l-.06-.04v-.02h.09l.09.01.07.03v.02h-.04v.01h.07l.06.05.06.12v.04c-.05 0-.04-.02-.06-.06l-.01-.02v-.01h-.01v-.01h-.01v-.02l-.02-.02-.06-.05v.01l.06.05v.02l.02.01.04.1.06.02v.08l-.03.07-.04.13.03-.2-.02-.02c0-.02 0-.07-.02-.07v.07l-.02.17v-.15L15.06 9q0-.02-.02-.04v.02l.01.03v.13h-.02v-.1L15 9.02l-.02-.04v.01q.01.03.01.06c0 .01.01.06 0 .07l-.01-.06-.05-.03q0-.02-.02-.02l.03.03v.05l-.03-.03-.03-.02-.03-.02-.01-.02-.02-.01.01.02-.01.02h-.02q0-.04-.02-.06l.01.04v.02L14.77 9h-.01l.01.04.02.03.01-.04v.01l.01.01.01.09v.03l-.01.01h-.01V9.1h-.01v.1h.01l.03-.06.06.04.07.05.06.04v.01h-.06l-.04-.03-.09-.07v.01l.03.02.06.05.04.03h-.05l-.04-.02-.04-.04-.02-.02v.01l.04.03.06.06h-.06v-.01l-.03-.03-.03-.03.01.02.04.03.02.02h-.03l-.03-.04-.02-.01v-.02.03h-.01v-.01.02l-.01-.03-.01.03.01.01v.01h-.02v-.04.05h-.03v-.04h-.02zM14.4 9.3v-.02h.02v.02zm-.04 0v-.02h.02-.01zm.03 0v-.02h.01zM13.99 9.29h-.01v-.02h-.01l-.01-.01h.02v-.04L14 9.2l.03-.01v.01H14v.02h.01l-.02.02v.02H14l-.01.01v.02z"/>
              <path fill="#2d2d2d" d="m14.87 9.29-.02-.01-.02-.03-.02-.02v-.01zm.05-.01-.06-.05v-.01l-.03-.01-.01-.02.07.05.02.02.02.01m-.2 0v-.02zm.25-.02-.04-.03-.1-.08.07.04.03.03zv.01m-.8 0-.02-.01V9.2h.05v.04zm1.08 0v-.01h.02v-.02h.02v.02zM15.22 9.25l.02-.04.04-.1V9.1l-.02.05v.04l.04-.07V9.1q0 .06-.02.07l-.04.04z"/>
              <path fill="#2d2d2d" d="M14.16 9.25v-.03h.03v.02zM14.7 9.25l-.02-.04-.01-.03.04.05v-.07l.01.06v.03zm-.4 0-.02-.02v-.05l-.01-.01-.04-.03v-.01l.01-.04.02-.03-.01-.02h-.01V9h.02l.02.01v.02q0 .05-.03.08l.01.01.04.03v.05h.04v.03zm.25 0v-.01h.03zm.66-.01h-.03l.01-.02h.01zM14.36 9.23h-.01V9.2h.01zm.01 0v-.06h.01v.05h.01zM14.53 9.22h-.03l.03-.03h.01l-.02.01v.01zm.22 0-.02-.07.02.06.02-.01v-.08.11zM14.43 9.22V9.2l.03-.01.02-.02-.02.01h-.01l.03-.02v-.01h.02v.03l-.05.03zM15.26 9.22l.03-.03h.01zM14.4 9.22v-.06h.02l-.01.03z"/>
              <path fill="#2d2d2d" d="m14.14 9.21.01.01h-.02m.02 0h-.01V9.2h.02zm.01 0V9.2l.01-.02v.03zm.53 0-.02-.05h.01zm-.28-.01v-.01l.01-.02h.01l.01-.02v-.01h-.1l-.01-.01-.02-.02v-.03l.01-.04.02-.02.04-.04.07-.04h.02l-.04.04-.08.06-.02.03v.03-.01h.02l.01.02h.11v.05l-.04.03zM15.22 9.2v-.04l.01-.05-.01.05v.03h.01m.09-.01.02-.07h.01zM14.75 9.18v-.05l.01.05m-.6.01-.01-.01v-.02h.02zm.5-.02-.02-.01-.04-.06q.03.02.04.05h.02l-.01-.07.02.07z"/>
              <path fill="#fff" d="M14.5 9.16v-.04h-.01V9.1l-.02-.01h-.09l-.02-.02v-.02l.04-.04.07-.05.03-.02.01-.02.01-.03h.02l.04-.04h.01l-.02.05-.03.04-.03.04v.09h.02v.07l-.01.01z"/>
              <path fill="#2d2d2d" d="m15.23 9.18.01-.05zm.06 0 .03-.06-.01.05zM14.7 9.15h-.01l-.02-.06-.01-.02.02.05.01.02h.02v-.09l.01.07v.02zm-.07-.02zl-.02-.03.03.04m-.05 0v-.02zm.17-.02h-.01l-.02-.07.02.05h.02l.01-.02-.02-.06.02.02v.07zM14.7 9.11l-.02-.05zm.1 0v-.05l.01.05m-.23-.02-.01-.01-.01-.06.02-.04-.01.05v.04h.03L14.6 9l.01-.02v.06l-.01.03-.02.02zm.18-.02-.01-.04zm-.12 0v-.09h.01l-.01.06v.01h.02l.03-.08v.06l-.02.03z"/>
              <path fill="#2d2d2d" d="M14.57 9.05v-.03l.02-.04h.01zm.12-.01v-.07h.01v.05h.02v-.07l.01.05V9l-.03.03m-.05-.01.02-.06zm.32-.01L14.94 9zM14.87 9 14.85 9v-.02l.01.01h.04v-.02l-.02-.01v-.01l.02.03V9h-.03m.15 0L15 8.98v-.01zm.12 0v-.04zm-.07 0v-.05l.01.04m-.27-.03v-.02zh.02v-.03h.02v.02l-.03.02m-.05 0v-.01l.01-.03v-.01.05z"/>
              <path fill="#2d2d2d" d="m14.87 8.98-.01-.01v-.01zm.06 0-.01-.01-.01-.02-.02-.01q.02 0 .03.02h.03v-.01l-.01-.04-.01-.01h.01l.03.05v.01l-.02.02zm-.32-.01.03-.07q0 .03-.02.06h.03l.04-.07-.03.07h-.05m-.04 0v-.02l.02-.04h.01l-.02.04h.01l.02-.02-.02.03zm-.09-.01.01-.04V8.9h-.02l-.02-.01.01-.02h.02l.03.01v.02l-.01.05zm.2 0 .03-.08-.02.06h.03l.02-.08c0 .05 0 .05-.02.08l-.02.01z"/>
              <path fill="#2d2d2d" d="m14.94 8.95-.04-.03h.01zm.06 0-.02-.01-.02-.03-.02-.02h.01l.02.02zh.02l.01-.01-.03-.05-.03-.04.02.02.05.07-.01.02H15m-.21 0V8.9v.02h.02zm.07-.01-.02-.02h.03l.01-.02V8.9l.01.02v.01zm.21 0-.01-.01-.03-.05-.02-.03-.03-.03h.01l.04.04.02.03.02.03h.02l-.01-.02v-.01l-.03-.03-.03-.04L15 8.8H15l.06.06.02.05.02.02-.01.02zm-.5 0v-.02h.01zm.08 0 .01-.05zm.09 0 .01-.04.01-.05v.07h-.02z"/>
              <path fill="#2d2d2d" d="m15 8.92-.05-.05v-.01l.02.01v.02h.01zm-.19 0-.01-.02h.03l-.01-.01v-.01l.03.01-.01.01zm.34 0q0-.03-.03-.05l-.05-.08-.02-.02-.02-.02h.01q.02 0 .04.03l.03.04.04.08zM14.43 8.9h-.01v-.03l.02-.01h.02l.02-.01h.03l-.04.01-.02.02zm.09 0 .04-.04h.02zM14.36 8.89v-.06l.04-.04.02-.01-.01.02-.04.04h.01v.03h.04l-.01.02zm.27 0v-.04h.01v.03h.02l.02-.06-.02.06-.01.01zm.28 0-.03-.01v-.01h.04v-.02l-.02-.02.03.03v.02zm-.06-.01h-.01v-.02h.02v-.03h.02q-.01.04-.02.05z"/>
              <path fill="#fff" d="M14.5 8.88v-.01l.04-.02h.01l-.03.01z"/>
              <path fill="#2d2d2d" d="M14.69 8.87v-.04zh.02l.01-.02v-.05.07h-.01zm.09 0 .02-.03h-.02v-.01h.02v.02l-.01.01zm-.15-.03-.01-.02h.02V8.8l.01.01v.01zm.3 0-.03-.02h.05V8.8l-.05-.03.06.02v.05zm-.42 0v-.01l.02-.03v.01h.02l.05-.03-.03.01.03-.03h.01q0 .02-.02.03l-.04.02v.02zm.07-.01.02-.02h-.03.04l-.01.01z"/>
              <path fill="#2d2d2d" d="M14.52 8.83v-.01h.03zM14.87 8.82h-.02V8.8h.02v-.02h-.02.03v.04zm-.08 0h-.01l.02-.01v-.03.03zm-.12 0-.02-.02h.03V8.8v.02zm.26 0-.03-.03.04.02m.04-.04-.07-.03zv-.01l-.07-.04.04.01.05.03zm-.3 0h-.01.02zm.2-.02-.02-.01h.02v-.02h-.02.03v.03zm-.07-.02h-.02zm-.03-.01-.02-.01h-.02V8.7h.04zm.18-.01h-.02v-.03l.01.02h.02v.01zm-.1 0V8.7q0-.02-.02-.02h-.05.06q.02 0 .03.02v.01zm.05-.01-.03-.04.02.02h.02v.02m-.2 0 .01-.01h.01v-.01h.01v.01zm.33.63H15h.02M15.02 9.36H15l.01-.01h.02m0-.04-.01.01H15zm-.8-.03v.01l-.02-.01zM17.61 7.86l-.93 2.93H15l.86-2.93z"/>
            </g>
          </svg>
        );
      case 'NEXUS':
        return (
          <svg xmlns="http://www.w3.org/2000/svg" width="26" height="16" fill="none" viewBox="0 0 26 16">
            <path fill="#2d2d2d" d="M0 5.88V.15h1.53l1.04 1.9.48.9.43.89-.04-1.22-.01-1V.15h1.36v5.73H3.26L2.18 3.95l-.41-.77-.48-.92.06 1.04.02.86v1.72zM5.87 5.88V.15h4.19v1.19H7.28v1h2.54V3.5H7.28v1.23h2.86v1.16zM10.4 5.88l1.77-2.93-1.68-2.8h1.61l.84 1.54.84-1.54h1.6l-1.7 2.8 1.8 2.93h-1.62l-.92-1.66L12 5.88zM15.93.16h1.39v3.57q0 .6.21.85t.72.25q.48 0 .7-.25.2-.25.2-.85V.16h1.42v3.4q0 .72-.14 1.15t-.44.72q-.33.3-.77.46-.42.16-.97.16a3 3 0 0 1-.98-.16q-.42-.15-.75-.46-.3-.3-.45-.73-.14-.42-.14-1.14zM21.35 3.98h1.35q0 .49.27.74t.77.25q.43 0 .67-.15t.23-.41q0-.15-.05-.25a.4.4 0 0 0-.16-.16 5 5 0 0 0-.75-.27q-.6-.18-1.01-.35-.6-.24-.9-.65-.3-.4-.31-.94 0-.82.6-1.3.58-.5 1.6-.49 1 0 1.58.5.57.52.58 1.39h-1.33q-.05-.4-.27-.59-.23-.2-.66-.2-.33 0-.55.15-.21.15-.21.37 0 .39 1.01.73.19.05.28.1h.06q1.05.36 1.31.58.25.22.4.53.14.3.14.67 0 .86-.63 1.34-.63.47-1.77.48-1.07 0-1.63-.51-.56-.53-.62-1.56"/>
            <path fill="#fff" d="M15.65 9.4h10.34V16H15.65z"/>
            <path fill="#2d2d2d" d="M15.65 15.52h10.34V16H15.65zm0-.98h10.34v.48H15.65zm0-1.03h10.34v.48H15.65zm3.97-1.02H26v.47h-6.37zm0-1.03H26v.48h-6.37zm0-1.02H26v.48h-6.37zm0-1.04H26v.5h-6.37zM15.64 9.4h3.98v3.56h-3.98z"/>
            <path fill="#fff" d="M19.17 12.58v-.02h.13l.04-.16.04.16h.17l-.14.1.05.14-.12-.1-.12.1.05-.16zm0-.35v-.03h.04zm0-.36v-.03h.13l.04-.15.04.16h.17l-.14.09.05.15-.12-.1-.12.1.05-.15zm0-.36v-.01h.04zm0-.34v-.03h.13l.04-.15.04.15h.17l-.14.08.05.16-.12-.1-.12.1.05-.16zm0-.35v-.03h.04zm0-.37v-.01h.13l.04-.17.04.17h.17l-.14.08.05.16-.12-.1-.12.1.05-.16zm0-.35v-.02h.04zm0-.35v-.03h.13l.04-.16.04.17h.17l-.14.09.05.15-.12-.11-.12.11.05-.16zm0-.03v.03l-.04-.03zm0 .36v.02l-.1.07.05.15-.12-.1-.12.1.05-.16-.1-.06v-.03h.13l.04-.15.05.16zm0 .36v.01l-.04-.01zm0 .35v.03l-.1.06.05.15-.12-.1-.12.1.05-.15-.1-.07v-.02h.13l.04-.16.05.16zm0 .35v.03l-.04-.03zm0 .36v.01l-.1.07.05.16-.12-.1-.12.1.05-.16-.1-.07v-.01h.13l.04-.17.05.17zm0 .34v.03l-.04-.03zm0 .36v.03l-.1.06.05.16-.12-.1-.12.1.05-.16-.1-.06v-.03h.13l.04-.16.05.16zm0 .36v.02l-.04-.02zm-.34.02v-.02h.04zm0-.71v-.02h.04zm0-.7v-.03h.04zm0-.7v-.03h.04zm0-.72v-.02h.04zm0-.02v.02l-.1.07.05.15-.12-.11-.12.11.05-.16-.1-.06v-.03h.13l.04-.16.04.17zm0 .34v.03l-.03-.03zm0 .37v.02l-.1.06.05.16-.12-.1-.12.1.05-.16-.1-.07v-.01h.13l.04-.17.04.17zm0 .35v.02l-.03-.02zm0 .35v.03l-.1.05.05.16-.12-.1-.12.1.05-.16-.1-.06v-.02h.13l.04-.15.04.15zm0 .36v.01l-.03-.01zm0 .35v.02l-.1.07.05.15-.12-.1-.12.1.05-.15-.1-.07v-.03h.13l.04-.15.04.16zm0 .35v.03l-.03-.03zm0 .36v.02l-.1.07.05.15-.12-.1-.12.1.05-.16-.1-.06v-.02h.13l.04-.16.04.16zm-.34-.33v-.03h.03zm0-.72v-.01h.03zm0-.7v-.02h.03zm0-.71v-.02h.03zm0-.38v.03l-.04-.03zm0 .36v.02l-.1.07.06.15-.13-.1-.12.1.05-.16-.1-.06v-.03h.12l.05-.15.04.16zm0 .36v.01l-.04-.01zm0 .35v.03l-.1.06.06.15-.13-.1-.12.1.05-.15-.1-.07v-.02h.12l.05-.16.04.16zm0 .35v.02l-.04-.02zm0 .36v.01l-.1.07.06.16-.13-.1-.12.1.05-.16-.1-.07v-.01h.12l.05-.17.04.17zm0 .34v.03l-.04-.03zm0 .36v.03l-.1.06.06.16-.13-.1-.12.1.05-.16-.1-.06v-.03h.12l.05-.16.04.16zm0 .36v.02l-.04-.02zm-.34.02v-.02h.03zm0-.71v-.02h.03zm0-.7v-.03h.03zm0-.7v-.03h.03zm0-.72v-.02h.03zm0-.02v.02l-.1.07.05.15-.12-.11-.12.11.05-.16-.1-.06v-.03h.12l.05-.16.04.17zm0 .34v.03l-.04-.03zm0 .37v.02l-.1.06.05.16-.12-.1-.12.1.05-.16-.1-.07v-.01h.12l.05-.17.04.17zm0 .35v.02l-.04-.02zm0 .35v.03l-.1.05.05.16-.12-.1-.12.1.05-.16-.1-.05v-.03h.12l.05-.15.04.15zm0 .36v.01l-.04-.01zm0 .35v.02l-.1.07.05.15-.12-.1-.12.1.05-.15-.1-.07v-.03h.12l.05-.15.04.16zm0 .35v.03l-.04-.03zm0 .36v.02l-.1.07.05.15-.12-.1-.12.1.05-.16-.1-.06v-.02h.12l.05-.16.04.16zm-.34-.33v-.03h.03zm0-.72v-.01h.03zm0-.7v-.02h.03zm0-.71v-.02h.03zm0-.38v.03l-.04-.03zm0 .36v.02l-.1.07.05.15-.13-.1-.11.1.05-.16-.1-.06v-.03h.12l.04-.15.04.16zm0 .36v.01l-.04-.01zm0 .35v.03l-.1.06.05.15-.13-.1-.11.1.05-.15-.1-.07v-.02h.12l.04-.16.04.16zm0 .35v.03l-.04-.03zm0 .36v.01l-.1.07.05.16-.13-.1-.11.1.05-.16-.1-.07v-.01h.12l.04-.17.04.17zm0 .34v.03l-.04-.03zm0 .36v.03l-.1.06.05.16-.13-.1-.11.1.05-.16-.1-.06v-.03h.12l.04-.16.04.16zm0 .36v.02l-.04-.02zm-.34.02v-.02h.03zm0-.71v-.02h.03zm0-.7v-.03h.03zm0-.7v-.03h.03zm0-.72v-.02h.03zm0-.02v.02l-.1.07.05.15-.13-.11-.12.11.06-.16-.11-.06v-.03h.13l.04-.16.04.17zm0 .34v.03l-.05-.03zm0 .37v.02l-.1.06.05.16-.13-.1-.12.1.06-.16-.11-.07v-.01h.13l.04-.17.04.17zm0 .35v.02l-.05-.02zm0 .35v.03l-.1.05.05.16-.13-.1-.12.1.06-.16-.11-.05v-.03h.13l.04-.15.04.15zm0 .36v.01l-.05-.01zm0 .35v.02l-.1.07.05.15-.13-.1-.12.1.06-.15-.11-.07v-.03h.13l.04-.15.04.16zm0 .35v.03l-.05-.03zm0 .36v.02l-.1.07.05.15-.13-.1-.12.1.06-.16-.11-.06v-.02h.13l.04-.16.04.16zm-.35-.33v-.03h.04zm0-.72v-.01h.04zm0-.7v-.02h.04zm0-.71v-.02h.04zm0-.38v.03l-.04-.03zm0 .36v.02l-.1.07.06.15-.13-.1-.12.1.06-.16-.11-.06v-.03h.13l.04-.15.04.16zm0 .36v.01l-.04-.01zm0 .35v.03l-.1.06.06.15-.13-.1-.12.1.06-.15-.11-.07v-.02h.13l.04-.16.04.16zm0 .35v.03l-.04-.03zm0 .36v.01l-.1.07.06.16-.13-.1-.12.1.06-.16-.11-.07v-.01h.13l.04-.17.04.17zm0 .34v.03l-.04-.03zm0 .36v.03l-.1.06.06.16-.13-.1-.12.1.06-.16-.11-.06v-.03h.13l.04-.16.04.16zm0 .36v.02l-.04-.02zm-.34.02v-.02h.03zm0-.71v-.02h.03zm0-.7v-.03h.03zm0-.7v-.03h.03zm0-.72v-.02h.03zm0-.02v.02l-.1.07.06.15-.13-.11-.12.11.05-.16-.1-.06v-.03h.12l.04-.16.05.17zm0 .34v.03l-.04-.03zm0 .37v.02l-.1.06.06.16-.13-.1-.12.1.05-.16-.1-.07v-.01h.12l.04-.17.05.17zm0 .35v.02l-.04-.02zm0 .35v.03l-.1.05.06.16-.13-.1-.12.1.05-.16-.1-.05v-.03h.12l.04-.15.05.15zm0 .36v.01l-.04-.01zm0 .35v.02l-.1.07.06.15-.13-.1-.12.1.05-.15-.1-.07v-.03h.12l.04-.15.05.16zm0 .35v.03l-.04-.03zm0 .36v.02l-.1.07.06.15-.13-.1-.12.1.05-.16-.1-.06v-.02h.12l.04-.16.05.16zm-.34-.33v-.03h.03zm0-.72v-.01h.03zm0-.7v-.02h.03zm0-.71v-.02h.03zm-.34-.35.03-.02h-.03zm.34-.03v.03l-.04-.03zm0 .36v.02l-.1.07.06.15-.13-.1-.12.1.05-.16-.1-.06v-.03h.12l.05-.15.04.16zm0 .36v.01l-.04-.01zm0 .35v.03l-.1.06.06.15-.13-.1-.12.1.05-.15-.1-.07v-.02h.12l.05-.16.04.16zm0 .35v.03l-.04-.03zm0 .36v.01l-.1.07.06.16-.13-.1-.12.1.05-.16-.1-.07v-.01h.12l.05-.17.04.17zm0 .34v.03l-.04-.03zm0 .36v.03l-.1.06.06.16-.13-.1-.12.1.05-.16-.1-.06v-.03h.12l.05-.16.04.16zm0 .36v.02l-.04-.02zm-.34.02v-.02h.03zm0-.71v-.02h.03zm0-.7v-.03h.03zm0-.7v-.03h.03zm-.18-.61.13.11-.06-.15.1-.07v-.02h-.12l-.05-.17-.04.16h-.16l.14.09-.06.16zm.18.21v.03l-.04-.03zm0 .37v.02l-.11.06.06.16-.13-.1-.12.1.06-.16-.14-.08h.16l.04-.17.05.17zm0 .35v.02l-.04-.02zm0 .35v.03l-.11.05.06.16-.13-.1-.12.1.06-.16-.14-.08h.16l.04-.15.05.15zm0 .36v.01l-.04-.01zm0 .35v.02l-.11.07.06.15-.13-.1-.12.1.06-.15-.14-.1h.16l.04-.15.05.16zm0 .35v.03l-.04-.03zm0 .36v.02l-.11.07.06.15-.13-.1-.12.1.06-.16-.14-.08h.16l.04-.16.05.16zM0 16h12.7V9.4H0z"/>
            <path fill="#2d2d2d" d="M3.14 16H0V9.4h3.14zM12.7 16H9.57V9.4h3.15zM6.48 15.5l-.03-1.25q.01-.1.17-.08l1.13.23-.11-.36q-.05-.1.01-.24l1.12-1.03-.19-.12q-.06-.06-.04-.2l.22-.65-.6.1q-.08.02-.12-.06l-.15-.33-.53.6q-.3.23-.24-.13l.26-1.38-.38.28q-.15.08-.22-.04l-.43-.9-.42.9q-.07.12-.22.04l-.38-.28.26 1.38q.05.35-.23.14l-.53-.6-.16.32q-.04.08-.13.06l-.58-.1.2.65q.02.14-.03.2l-.2.12 1.13 1.03q.07.14 0 .24l-.1.36 1.14-.23q.15-.03.16.08l-.02 1.26z"/>
          </svg>
        );
      default:
        return <FontAwesomeIcon icon={faCars}/>;
    }
  }

  const getLaneTitle = (type) => {
    switch (type) {
      case 'Trucks':
        return <p className="name">Commercial Vehicles</p>;

      case 'NEXUS':
        return (
          <p className="name">Passenger NEXUS Vehicles
            <OverlayTrigger placement="top" overlay={tooltipNEXUS}>
              <button className="vehicles-tooltip-info" aria-label="Passenger NEXUS vehicles tooltip"
                      aria-describedby="tooltipNEXUS">
                ?
              </button>
            </OverlayTrigger>
          </p>
        );

      case 'FAST':
        return (
          <p className="name">Commercial FAST Vehicles
            <OverlayTrigger placement="top" overlay={tooltipFAST}>
              <button className="vehicles-tooltip-info" aria-label="Commercial FAST vehicles tooltip"
                      aria-describedby="tooltipFAST">
                ?
              </button>
            </OverlayTrigger>
          </p>
        );

      default:
        return <p className="name">Passenger Vehicles</p>;
    }
  }

  const getDelayPill = (delay) => {
    switch (delay) {
      case 'closed':
        return <p className="delay-pill closed">Closed</p>;

      case null:
        return <p className="delay-pill waiting">Waiting for new data</p>;

      case 0:
        return <p className="delay-pill delay-pill clear">No delays</p>;

      default:
        return <p className="delay-pill">{delay} minutes</p>;
    }
  }

  const tooltipFAST = (
    <Tooltip id="tooltipFAST" className="tooltip-content">
      <p>FAST is a joint program between the Canada Border Services Agency (CBSA) and United States Customs and Border
        Protection (U.S. CBP) that enhances border and trade chain security while making cross-border commercial
        shipments simpler and subject to fewer delays.</p>
    </Tooltip>
  );

  const tooltipNEXUS = (
    <Tooltip id="tooltipNEXUS" className="tooltip-content">
      <p>NEXUS is designed to speed up border crossings into Canada and the United States (U.S.) for low-risk,
        pre-approved travellers. It is jointly run by the Canada Border Services Agency and U.S. Customs and Border
        Protection.</p>
    </Tooltip>
  );

  // Main component
  const orderedLaneTypes = ['FAST', 'Cars', 'NEXUS'];

  return borderCrossing && (
    <div className="popup popup--border-crossing" tabIndex={0}>
      <div className={`popup__title ${showRouteObjs && !smallScreen ? 'from-route-objs' : ''}`}>
        <div className="popup__title__name">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="1" y="1" width="22" height="22" rx="3" fill="white"/>
          <rect x="1" y="1" width="22" height="22" rx="3" stroke="#255A90" strokeWidth="2"/>
          <path d="M11.25 6.75C11.25 6.35156 11.5781 6 12 6C12.3984 6 12.75 6.35156 12.75 6.75H16.3359C16.4297 6.75 16.5234 6.79688 16.5938 6.86719L17.7188 7.99219C17.8594 8.13281 17.8594 8.39062 17.7188 8.53125L16.5938 9.65625C16.5234 9.72656 16.4297 9.75 16.3359 9.75H7.5C7.07812 9.75 6.75 9.42188 6.75 9V7.5C6.75 7.10156 7.07812 6.75 7.5 6.75H11.25ZM17.25 12V13.5C17.25 13.9219 16.8984 14.25 16.5 14.25H7.64062C7.54688 14.25 7.45312 14.2266 7.38281 14.1562L6.25781 13.0312C6.11719 12.8906 6.11719 12.6328 6.25781 12.4922L7.38281 11.3672C7.45312 11.2969 7.54688 11.25 7.64062 11.25H11.25V10.5H12.75V11.25H16.5C16.8984 11.25 17.25 11.6016 17.25 12ZM12.75 17.25C12.75 17.6719 12.3984 18 12 18C11.5781 18 11.25 17.6719 11.25 17.25V15H12.75V17.25Z" fill="#255A90"/>
        </svg>
          <p className='name'>Border Crossing</p>
        </div>
      </div>

      <div className="popup__content">
        <div className="popup__content__title">
          <p className="name">{borderCrossing.name}</p>

          {borderCrossing.schedule_url &&
            <div className="schedule_url">
              Operating times are currently not available. See <a href={borderCrossing.schedule_url} rel="noopener noreferrer">hours of operation</a> for more details.
            </div>
          }

          <p className="delays">Current delays</p>
          <p className="update"><span className="updated">Updated </span><FriendlyTime date={borderCrossing.last_updated}/></p>
        </div>

        {orderedLaneTypes.map(type => (
          borderLanes[type] && (
            <div key={type} className="popup__content__section commercial-vehicles">
              <div className="popup__content__section__icon">
                {getLaneIcon(type)}
              </div>

              <div className="popup__content__section__title">
                {getLaneTitle(type)}
              </div>

              {'SOUTHBOUND' in borderLanes[type] &&
                <div className="popup__content__section__row">
                  <p className="direction">Southbound</p>
                  {getDelayPill(borderLanes[type].SOUTHBOUND)}
                </div>
              }

              {'NORTHBOUND' in borderLanes[type] &&
                <div className="popup__content__section__row">
                  <p className="direction">Northbound</p>
                  {getDelayPill(borderLanes[type].NORTHBOUND)}
                </div>
              }
            </div>
          )
        ))}

        <div className="popup__content__footer">
          <span>
            Courtesy of
            <a href="https://www.cascadegatewaydata.com/Dashboard" rel="noreferrer">Cascade Gateway Data</a>
          </span>
        </div>
      </div>
    </div>
  );
}
